{"ast":null,"code":"var _jsxFileName = \"/Users/leandrodisconzi/CascadeProjects/geodome-website/src/components/ModelViewer.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { convertToUSDZ } from '../utils/convertToReality';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ModelViewer({\n  modelUrl\n}) {\n  _s();\n  const [isLoading, setIsLoading] = useState(false);\n  const handleARClick = async () => {\n    setIsLoading(true);\n    try {\n      // For iOS, convert to USDZ\n      if (/iPhone|iPad|iPod/.test(navigator.userAgent)) {\n        const usdzUrl = await convertToUSDZ(modelUrl);\n        if (usdzUrl) {\n          // Open USDZ directly in Quick Look\n          window.location.href = usdzUrl;\n          return;\n        }\n      }\n\n      // For other devices or if conversion fails, use the AR handler\n      const handlerUrl = `${window.location.origin}/ar-handler.html?model=${encodeURIComponent(modelUrl)}`;\n      window.location.href = handlerUrl;\n    } catch (error) {\n      console.error('Error handling AR view:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full h-[400px] relative\",\n    children: /*#__PURE__*/_jsxDEV(\"model-viewer\", {\n      src: modelUrl,\n      \"camera-controls\": true,\n      \"auto-rotate\": true,\n      style: {\n        width: '100%',\n        height: '100%',\n        backgroundColor: '#f3f4f6'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleARClick,\n        disabled: isLoading,\n        className: `absolute bottom-4 left-4 right-4 bg-emerald-600 hover:bg-emerald-700 text-white py-3 px-4 rounded-lg text-center font-medium transition-colors flex items-center justify-center ${isLoading ? 'opacity-50 cursor-not-allowed' : ''}`,\n        children: [isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"h-5 w-5 mr-2\",\n          viewBox: \"0 0 24 24\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this), isLoading ? 'Preparando AR...' : 'Ver em AR']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}\n_s(ModelViewer, \"EmvgwIb3cHpoFpeP+WmEDbjx4y4=\");\n_c = ModelViewer;\nexport default ModelViewer;\nvar _c;\n$RefreshReg$(_c, \"ModelViewer\");","map":{"version":3,"names":["React","useState","convertToUSDZ","jsxDEV","_jsxDEV","ModelViewer","modelUrl","_s","isLoading","setIsLoading","handleARClick","test","navigator","userAgent","usdzUrl","window","location","href","handlerUrl","origin","encodeURIComponent","error","console","className","children","src","style","width","height","backgroundColor","onClick","disabled","fileName","_jsxFileName","lineNumber","columnNumber","viewBox","fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","_c","$RefreshReg$"],"sources":["/Users/leandrodisconzi/CascadeProjects/geodome-website/src/components/ModelViewer.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { convertToUSDZ } from '../utils/convertToReality';\n\nfunction ModelViewer({ modelUrl }) {\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleARClick = async () => {\n    setIsLoading(true);\n    try {\n      // For iOS, convert to USDZ\n      if (/iPhone|iPad|iPod/.test(navigator.userAgent)) {\n        const usdzUrl = await convertToUSDZ(modelUrl);\n        if (usdzUrl) {\n          // Open USDZ directly in Quick Look\n          window.location.href = usdzUrl;\n          return;\n        }\n      }\n      \n      // For other devices or if conversion fails, use the AR handler\n      const handlerUrl = `${window.location.origin}/ar-handler.html?model=${encodeURIComponent(modelUrl)}`;\n      window.location.href = handlerUrl;\n    } catch (error) {\n      console.error('Error handling AR view:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"w-full h-[400px] relative\">\n      <model-viewer\n        src={modelUrl}\n        camera-controls\n        auto-rotate\n        style={{ width: '100%', height: '100%', backgroundColor: '#f3f4f6' }}\n      >\n        <button\n          onClick={handleARClick}\n          disabled={isLoading}\n          className={`absolute bottom-4 left-4 right-4 bg-emerald-600 hover:bg-emerald-700 text-white py-3 px-4 rounded-lg text-center font-medium transition-colors flex items-center justify-center ${\n            isLoading ? 'opacity-50 cursor-not-allowed' : ''\n          }`}\n        >\n          {isLoading ? (\n            <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"></div>\n          ) : (\n            <svg className=\"h-5 w-5 mr-2\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z\" />\n            </svg>\n          )}\n          {isLoading ? 'Preparando AR...' : 'Ver em AR'}\n        </button>\n      </model-viewer>\n    </div>\n  );\n}\n\nexport default ModelViewer;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,aAAa,QAAQ,2BAA2B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1D,SAASC,WAAWA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EACjC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EAEjD,MAAMS,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChCD,YAAY,CAAC,IAAI,CAAC;IAClB,IAAI;MACF;MACA,IAAI,kBAAkB,CAACE,IAAI,CAACC,SAAS,CAACC,SAAS,CAAC,EAAE;QAChD,MAAMC,OAAO,GAAG,MAAMZ,aAAa,CAACI,QAAQ,CAAC;QAC7C,IAAIQ,OAAO,EAAE;UACX;UACAC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAGH,OAAO;UAC9B;QACF;MACF;;MAEA;MACA,MAAMI,UAAU,GAAG,GAAGH,MAAM,CAACC,QAAQ,CAACG,MAAM,0BAA0BC,kBAAkB,CAACd,QAAQ,CAAC,EAAE;MACpGS,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAGC,UAAU;IACnC,CAAC,CAAC,OAAOG,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IACjD,CAAC,SAAS;MACRZ,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;EAED,oBACEL,OAAA;IAAKmB,SAAS,EAAC,2BAA2B;IAAAC,QAAA,eACxCpB,OAAA;MACEqB,GAAG,EAAEnB,QAAS;MACd,uBAAe;MACf,mBAAW;MACXoB,KAAK,EAAE;QAAEC,KAAK,EAAE,MAAM;QAAEC,MAAM,EAAE,MAAM;QAAEC,eAAe,EAAE;MAAU,CAAE;MAAAL,QAAA,eAErEpB,OAAA;QACE0B,OAAO,EAAEpB,aAAc;QACvBqB,QAAQ,EAAEvB,SAAU;QACpBe,SAAS,EAAE,mLACTf,SAAS,GAAG,+BAA+B,GAAG,EAAE,EAC/C;QAAAgB,QAAA,GAEFhB,SAAS,gBACRJ,OAAA;UAAKmB,SAAS,EAAC;QAAgE;UAAAS,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,gBAEtF/B,OAAA;UAAKmB,SAAS,EAAC,cAAc;UAACa,OAAO,EAAC,WAAW;UAACC,IAAI,EAAC,MAAM;UAACC,MAAM,EAAC,cAAc;UAAAd,QAAA,eACjFpB,OAAA;YAAMmC,aAAa,EAAC,OAAO;YAACC,cAAc,EAAC,OAAO;YAACC,WAAW,EAAE,CAAE;YAACC,CAAC,EAAC;UAA6E;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClJ,CACN,EACA3B,SAAS,GAAG,kBAAkB,GAAG,WAAW;MAAA;QAAAwB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACZ,CAAC;AAEV;AAAC5B,EAAA,CArDQF,WAAW;AAAAsC,EAAA,GAAXtC,WAAW;AAuDpB,eAAeA,WAAW;AAAC,IAAAsC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}